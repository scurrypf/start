<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VUE-HTTP</title>
    <script src="http://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        *{
            padding: 0;
            margin: 0;
        }
        #H-W{
            font-size: 16px;
            color: aqua;
            font-weight: bold;
            font-family: 'Courier New', Courier, monospace;
        }
        .container{
            position: absolute;
            top:50%;left:50%;
            transform: translate(-50%,-50%);
            z-index: 999;
        }
    </style>
</head>
<body>
    <img height="749px" width="1533px" src="D:\steam\a-yyyys\xh\心海.jpeg">
    <div class="container" id="app">
    <div id="H-W">{{message}}</div>
    <div>
        <span>用户名</span>
        <input type="text" v-model="user"/>
    </div>
    <div>
        <span>密&emsp;码</span>
        <input type="password" v-model="password"/>
    </div>
    <button id="but" @click="pdmm">登录</button>
    <div>
        <input type="text" id="cs" v-model="city"/>
        <button id="select" @click="main">查询</button>
    </div>
    <div id="H-W">{{city}}市&emsp;{{week}}&emsp;{{weather}}</div>
    </div>
    <script>
        const { createApp } = Vue
        const vue1=createApp({
            data() {
            return {
                message: 'Hello World!',
                city:'',
                weather:'',
                user:'',
                password:'',
                week:'',
                baseUrl:'http://jisutqybmf.market.alicloudapi.com/weather/query'
                }
            },
            methods:{
                async main(){
                const result= await axios.get(this.baseUrl,{
                headers:{
                    Authorization:'APPCODE d686570081264047b8b7aaec01fb82dc'
                },
                params:{
                    city:this.city
                }
            })
            this.weather=result.data.result.weather;
            this.week=result.data.result.week;
            },
            pdmm(){
            const user1 = this.user;
            const pass1 = this.password;
            if(user1==="sc" && pass1==="123456"){
                window.alert("登录成功,欢迎使用!");
            }else{
                window.alert("登录失败,账号或密码错误!!!!!");
            }
        }
            }
        })   
        vue1.mount('#app');
    </script>   
</body>
</html>